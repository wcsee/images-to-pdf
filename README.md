# images-to-pdf

一个简单易用的Python工具，用于将多种格式的图片文件按文件名顺序合并成PDF文档。

## 功能特性

- 🖼️ **多格式支持**：支持JPG、JPEG、PNG、BMP、TIFF、HEIC、WebP、GIF等常见图片格式
- 📁 **智能排序**：按文件名自动排序，确保图片顺序正确
- 🎨 **透明处理**：自动为透明背景图片添加白色背景
- 📅 **智能命名**：输出文件名格式为`文件夹名_日期.pdf`
- 🧹 **自动清理**：处理完成后自动清理临时文件
- 📊 **进度显示**：实时显示处理进度和详细信息
- 🛡️ **错误处理**：单个文件出错不影响整体处理流程

## 安装依赖

确保您的系统已安装Python 3.7+，然后安装所需的依赖包：

```bash
pip install -r requirements.txt
```

### 依赖包说明

- **Pillow (>=10.0.0)**: Python图像处理库，用于图片格式转换和处理
- **pillow-heif (>=0.13.0)**: HEIF/HEIC格式支持插件
- **img2pdf (>=0.4.4)**: 高效的图片转PDF工具

## 使用方法

### 基本使用

1. 将您的图片文件放入`images`文件夹中
2. 运行转换脚本：

```bash
python images_to_pdf.py
```

3. 转换完成后，您将在项目根目录下找到生成的PDF文件

### 输出文件命名规则

生成的PDF文件名格式为：`文件夹名_日期.pdf`

例如：
- 文件夹名：`images`
- 当前日期：`2025年1月28日`
- 输出文件名：`images_20250128.pdf`

## 支持的图片格式

| 格式 | 扩展名 | 说明 |
|------|--------|------|
| JPEG | .jpg, .jpeg | 最常见的图片格式 |
| PNG | .png | 支持透明背景 |
| BMP | .bmp | Windows位图格式 |
| TIFF | .tiff, .tif | 高质量图片格式 |
| HEIC | .heic | iPhone等设备的新格式 |
| WebP | .webp | Google开发的现代格式 |
| GIF | .gif | 支持动画的格式（仅处理第一帧） |

## 使用示例

### 示例1：处理手机照片

```bash
# 将iPhone的HEIC照片放入images文件夹
# 运行脚本
python images_to_pdf.py

# 输出示例
找到 25 个图片文件
输出文件: images_20250128.pdf
正在处理: IMG_001.HEIC (1/25)
正在处理: IMG_002.HEIC (2/25)
...
PDF文件已创建: images_20250128.pdf
成功处理了 25 个图片文件
```

### 示例2：处理混合格式图片

```bash
# images文件夹包含：001.jpg, 002.png, 003.heic
python images_to_pdf.py

# 输出示例
找到 3 个图片文件
输出文件: images_20250128.pdf
正在处理: 001.jpg (1/3)
正在处理: 002.png (2/3)
正在处理: 003.heic (3/3)
PDF文件已创建: images_20250128.pdf
成功处理了 3 个图片文件
```

## 注意事项

- 📁 确保`images`文件夹存在且包含图片文件
- 🔐 确保对项目目录有读写权限
- 💾 处理大量高分辨率图片时可能需要较多内存
- 🎯 图片将按文件名字母数字顺序排序
- 🖼️ 透明背景的PNG图片会自动添加白色背景
- ⚠️ 如果单个图片文件损坏，程序会跳过该文件继续处理其他文件

## 故障排除

### 常见问题

**Q: 提示"未找到支持的图片文件"**

A: 检查以下几点：
- `images`文件夹是否存在
- 文件夹中是否包含支持格式的图片
- 文件扩展名是否正确

**Q: 某些HEIC文件无法处理**

A: 确保安装了`pillow-heif`依赖包：
```bash
pip install pillow-heif
```

**Q: 内存不足错误**

A: 尝试以下解决方案：
- 减少同时处理的图片数量
- 降低图片分辨率
- 增加系统可用内存

**Q: 权限错误**

A: 确保对项目目录有读写权限，Windows用户可尝试以管理员身份运行

## 技术特性

- 🔄 **自动格式转换**：所有图片统一转换为JPEG格式后合并
- 🎨 **颜色模式处理**：自动处理RGBA、LA、P等颜色模式
- 📏 **高质量输出**：JPEG质量设置为95%，保证清晰度
- 🗂️ **临时文件管理**：使用临时目录避免污染工作空间
- 🛡️ **异常处理**：完善的错误处理机制，提高程序稳定性

## 许可证

本项目采用MIT许可证。详见LICENSE文件。

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！

---

**享受将图片轻松转换为PDF的便利！** 📚✨